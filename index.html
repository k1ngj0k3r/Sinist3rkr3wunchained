<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b0b0b" />
  <meta name="description" content="Sinist3rKr3w Unchained ‚Äî Radio, drops, hub. Built loud." />

<!-- PWA -->
<link rel="manifest" href="manifest.webmanifest">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#ff0000">

<link rel="icon" type="image/png" sizes="32x32" href="assets/icons/icon-32.png">
<link rel="icon" type="image/png" sizes="96x96" href="assets/icons/icon-96.png">
<link rel="icon" type="image/png" sizes="192x192" href="assets/icons/icon-192.png">

<link rel="apple-touch-icon" sizes="180x180" href="assets/icons/icon-180.png">
<link rel="mask-icon" href="assets/icons/maskable-192.png" color="#ff0000">

  <title>Sinist3rKr3w Unchained</title>

  <style>
    :root{
      --bg:#0b0b0b;
      --card:#121212;
      --line:#222;
      --text:#f3f3f3;
      --muted:#b7b7b7;
      --red:#c1121f;
      --gold:#d4af37;
      --shadow: 0 10px 30px rgba(0,0,0,.45);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 20% -10%, rgba(193,18,31,.25), transparent 60%),
                  radial-gradient(900px 600px at 85% 0%, rgba(212,175,55,.18), transparent 55%),
                  var(--bg);
      color:var(--text);
    }
    a{color:inherit;text-decoration:none}
    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 20px 16px 110px;
    }
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 14px;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
    }
    .logo{
      width:44px; height:44px; border-radius: 14px;
      background: linear-gradient(145deg, rgba(193,18,31,.35), rgba(212,175,55,.18));
      border: 1px solid rgba(255,255,255,.10);
      display:grid; place-items:center;
      box-shadow: var(--shadow);
      font-weight:900;
    }
    .brand h1{
      font-size: 16px;
      margin:0;
      letter-spacing:.6px;
      text-transform:uppercase;
    }
    .brand p{
      margin:0;
      font-size: 12px;
      color: var(--muted);
      letter-spacing:.2px;
    }
    .badges{
      display:flex; align-items:center; gap:10px; flex-wrap:wrap;
      justify-content:flex-end;
    }
    .badge{
      padding:7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(18,18,18,.75);
      backdrop-filter: blur(8px);
      font-size: 12px;
      color: var(--muted);
      display:flex; gap:8px; align-items:center;
    }
    .dot{
      width:8px;height:8px;border-radius:50%;
      background: var(--red);
      box-shadow: 0 0 0 3px rgba(193,18,31,.18);
    }

    .hero{
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(18,18,18,.85), rgba(10,10,10,.85));
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .hero::before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(600px 260px at 15% 5%, rgba(193,18,31,.25), transparent 60%),
                  radial-gradient(600px 260px at 85% 0%, rgba(212,175,55,.20), transparent 58%);
      pointer-events:none;
    }
    .heroInner{
      position:relative;
      padding: 18px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 14px;
    }
    @media (max-width:820px){
      .heroInner{grid-template-columns: 1fr; }
    }
    .headline{
      margin: 0;
      font-size: 28px;
      line-height: 1.05;
      letter-spacing:.2px;
      text-transform:uppercase;
    }
    .sub{
      margin: 10px 0 0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.45;
      max-width: 60ch;
    }
    .ctaRow{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top: 14px;
    }
    .btn{
      border-radius: 14px;
      padding: 12px 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(18,18,18,.85);
      color: var(--text);
      font-weight: 700;
      font-size: 13px;
      letter-spacing:.2px;
      cursor:pointer;
      display:inline-flex; align-items:center; gap:10px;
      transition: transform .12s ease, border-color .12s ease;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(212,175,55,.25); }
    .btnPrimary{
      background: linear-gradient(180deg, rgba(193,18,31,.95), rgba(120,10,15,.95));
      border-color: rgba(193,18,31,.55);
    }
    .btnGold{
      background: linear-gradient(180deg, rgba(212,175,55,.92), rgba(145,110,25,.92));
      border-color: rgba(212,175,55,.55);
      color:#111;
    }
    .panel{
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(12,12,12,.72);
      padding: 14px;
      box-shadow: var(--shadow);
    }
    .panel h3{
      margin:0 0 8px;
      font-size: 12px;
      letter-spacing:.6px;
      text-transform:uppercase;
      color: var(--muted);
    }
    .row{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px; flex-wrap:wrap;
    }
    .mini{
      font-size: 12px;
      color: var(--muted);
      line-height:1.35;
    }
    .now{
      font-weight:800;
      letter-spacing:.3px;
      text-transform:uppercase;
    }

    .grid{
      margin-top: 14px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    @media (max-width:820px){ .grid{grid-template-columns: 1fr;} }

    .media{
      border-radius: 16px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(18,18,18,.85);
      box-shadow: var(--shadow);
    }
    .mediaHeader{
      padding: 12px 12px 10px;
      border-bottom: 1px solid rgba(255,255,255,.08);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .mediaHeader .title{
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.5px;
      font-size: 12px;
    }
    video{
      width:100%;
      display:block;
      background:#000;
    }

    /* bottom radio bar */
    .radioBar{
      position:fixed;
      left:0; right:0; bottom:0;
      background: rgba(10,10,10,.92);
      border-top: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(10px);
      padding: 10px 12px;
      z-index: 999;
    }
    .radioInner{
      max-width: 980px;
      margin: 0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .radioLeft{
      display:flex; align-items:center; gap:12px; min-width: 260px;
    }
    .pill{
      padding:6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(18,18,18,.85);
      font-size: 12px;
      display:flex; align-items:center; gap:8px;
    }
    .listener{
      color: var(--muted);
      font-size: 12px;
    }
    .ticker{
      max-width: 980px;
      margin: 10px auto 0;
      overflow:hidden;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(18,18,18,.75);
      box-shadow: var(--shadow);
    }
    .ticker span{
      display:inline-block;
      white-space:nowrap;
      padding: 10px 16px;
      animation: scroll 18s linear infinite;
      color: var(--muted);
      font-size: 12px;
      letter-spacing:.2px;
    }
    @keyframes scroll{
      from{ transform: translateX(100%); }
      to{ transform: translateX(-100%); }
    }
    .smallLink{
      color: var(--muted);
      text-decoration: underline;
      font-size: 12px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo">SK</div>
        <div>
          <h1>Sinist3rKr3w Unchained</h1>
          <p>Built loud. Built real. Built to move.</p>
        </div>
      </div>

      <div class="badges">
        <div class="badge"><span class="dot"></span><span class="now">LIVE OPS</span></div>
        <div class="badge">‚ö° <span id="statusText">Ready</span></div>
        <div class="badge">üëÄ <span id="listenerText">‚Äî</span></div>
      </div>
    </div>

    <section class="hero">
      <div class="heroInner">
        <div>
          <h2 class="headline">This isn‚Äôt a page.<br/>It‚Äôs a signal.</h2>
          <p class="sub">
            If you‚Äôre here, you‚Äôre not lost ‚Äî you‚Äôre early.
            Tap in, hit play, and move with the Kr3w.
          </p>

          <div class="ctaRow">
            <a class="btn btnPrimary" href="https://linktr.ee/k1ngj0k" target="_blank" rel="noopener noreferrer">
              üîó Open Linktree Hub
            </a>

            <button class="btn btnGold" id="installBtn" style="display:none;">
              üì≤ Install App
            </button>

            <button class="btn" id="playRadioBtn">
              üîä Play Radio
            </button>

            <button class="btn" id="playSkyBtn">
              üéôÔ∏è Play Sky Voiceover
            </button>
          </div>

          <p class="mini" style="margin-top:10px;">
            Tip: phones block autoplay. First tap unlocks audio. ‚úÖ
          </p>
        </div>

        <div class="panel">
          <h3>Today‚Äôs Moves</h3>
          <div class="row">
            <div>
              <div class="now">Daily Pack</div>
              <div class="mini">Post ‚Üí Hub ‚Üí repeat. No guessing.</div>
            </div>
            <a class="smallLink" href="./dashboard.html">Open Dashboard</a>
          </div>

          <hr style="border:none;border-top:1px solid rgba(255,255,255,.08);margin:12px 0;" />

          <div class="row">
            <div>
              <div class="now">Radio Stream</div>
              <div class="mini">Drops + music + momentum.</div>
            </div>
            <div class="pill"><span class="dot"></span><span id="radioState">OFF</span></div>
          </div>

          <div style="margin-top:10px;" class="mini">
            This hub stays loud even when life gets noisy.
          </div>
        </div>
      </div>
    </section>

    <section class="grid">
      <div class="media">
        <div class="mediaHeader">
          <div class="title">Trailer</div>
          <a class="smallLink" href="./sinist3rkr3w_trailer.mp4" target="_blank" rel="noopener noreferrer">Open</a>
        </div>
        <video controls playsinline preload="metadata" poster="">
          <source src="./sinist3rkr3w_trailer.mp4" type="video/mp4" />
          Your browser can‚Äôt play this video.
        </video>
      </div>

      <div class="media">
        <div class="mediaHeader">
          <div class="title">Sky Voiceover</div>
          <a class="smallLink" href="./sky_voiceover.mp3" target="_blank" rel="noopener noreferrer">Open</a>
        </div>

        <div style="padding:12px;">
          <p class="mini" style="margin:0 0 10px;">
            Tap play to hear the voice that sets the tone.
          </p>

          <div class="row">
            <button class="btn btnPrimary" id="skyInlineBtn">üéß Play</button>
            <button class="btn" id="skyStopBtn">‚õî Stop</button>
          </div>

          <p class="mini" style="margin-top:10px;">
            If it doesn‚Äôt play, tap once anywhere then hit play again.
          </p>
        </div>
      </div>
    </section>
  </div>

  <!-- Bottom radio / ticker -->
  <div class="radioBar">
    <div class="radioInner">
      <div class="radioLeft">
        <div class="pill">üî• Sinist3rKr3w Radio</div>
        <div class="listener">Stream: Zeno.fm</div>
      </div>

      <div class="ctaRow" style="margin:0;">
        <button class="btn btnPrimary" id="radioToggleBtn">‚ñ∂ Play</button>
        <a class="btn" href="./dashboard.html">üìä Ops</a>
        <a class="btn" href="https://linktr.ee/k1ngj0k" target="_blank" rel="noopener noreferrer">üîó Hub</a>
      </div>
    </div>

    <div class="ticker" aria-label="ticker">
      <span id="tickerText">
        ‚ö†Ô∏è We don‚Äôt blend in. We build. | Tap PLAY to go live. | Linktree is the hub. | Drops rotate. Truth stays. | Sinist3rKr3w Unchained.
      </span>
    </div>
  </div>

  <!-- audio elements -->
  <audio id="radio" preload="none" crossorigin="anonymous">
    <source src="https://stream.zeno.fm/bopyz8zwv0juv" type="audio/mpeg" />
  </audio>
  <audio id="sky" preload="none">
    <source src="./sky_voiceover.mp3" type="audio/mpeg" />
  </audio>

  <script>
    // ===== PWA service worker =====
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("./service-worker.js").catch(()=>{});
      });
    }

    // ===== Install button =====
    let deferredPrompt = null;
    const installBtn = document.getElementById("installBtn");

    window.addEventListener("beforeinstallprompt", (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installBtn.style.display = "inline-flex";
    });

    installBtn?.addEventListener("click", async () => {
      if (!deferredPrompt) return;
      deferredPrompt.prompt();
      await deferredPrompt.userChoice;
      deferredPrompt = null;
      installBtn.style.display = "none";
    });

    // ===== Fake listener count (tasteful illusion) =====
    const listenerText = document.getElementById("listenerText");
    function bumpListeners(){
      const base = 2;
      const extra = Math.floor(Math.random()*7); // 0..6
      const val = base + extra;
      listenerText.textContent = `${val} listening`;
    }
    bumpListeners();
    setInterval(bumpListeners, 45000);

    // ===== Audio controls =====
    const radio = document.getElementById("radio");
    const sky = document.getElementById("sky");

    const radioState = document.getElementById("radioState");
    const statusText = document.getElementById("statusText");
    const radioToggleBtn = document.getElementById("radioToggleBtn");
    const playRadioBtn = document.getElementById("playRadioBtn");
    const playSkyBtn = document.getElementById("playSkyBtn");
    const skyInlineBtn = document.getElementById("skyInlineBtn");
    const skyStopBtn = document.getElementById("skyStopBtn");

    function setRadioUI(on){
      radioState.textContent = on ? "ON" : "OFF";
      statusText.textContent = on ? "Streaming" : "Ready";
      radioToggleBtn.textContent = on ? "‚è∏ Pause" : "‚ñ∂ Play";
      if(on){
        radioToggleBtn.classList.add("btnPrimary");
      } else {
        radioToggleBtn.classList.remove("btnPrimary");
      }
    }

    async function playRadio(){
      try{
        sky.pause();
        sky.currentTime = 0;
        await radio.play();
        setRadioUI(true);
      }catch(e){
        statusText.textContent = "Tap again";
      }
    }

    function pauseRadio(){
      radio.pause();
      setRadioUI(false);
    }

    async function playSky(){
      try{
        pauseRadio();
        await sky.play();
        statusText.textContent = "Voiceover";
      }catch(e){
        statusText.textContent = "Tap again";
      }
    }

    function stopSky(){
      sky.pause();
      sky.currentTime = 0;
      statusText.textContent = "Ready";
    }

    radioToggleBtn.addEventListener("click", () => {
      if(radio.paused) playRadio();
      else pauseRadio();
    });

    playRadioBtn.addEventListener("click", () => playRadio());
    playSkyBtn.addEventListener("click", () => playSky());
    skyInlineBtn.addEventListener("click", () => playSky());
    skyStopBtn.addEventListener("click", () => stopSky());

    // If stream errors, show status
    radio.addEventListener("error", () => {
      statusText.textContent = "Stream error";
      setRadioUI(false);
    });
    radio.addEventListener("pause", () => setRadioUI(false));
    radio.addEventListener("play", () => setRadioUI(true));
  </script>
</body>
</html>
